<!--
File name : server/views/contacts/list.ejs
Studentâ€™s Name : Ricardo Barona
StudentID : 301165198
Date : 2021-10-19
-->

<div class="container">
    <div class="table-responsive-lg">
        <table class="table table-striped table-hover table-bordered">
            <thead class="table-success">
                <tr>
                    <% if(typeof displayName == 'string' && displayName) { %>
                        <th class="text-center col-1">No</th>
                        <th class="text-center col-3">Contact Name</th>
                        <th class="text-center col-3">Contact Number</th>
                        <th class="text-center col-3">Contact Email</th>
                        <th class="text-center col-1"></th>
                        <th class="text-center col-1"></th>
                    <% } else { %>
                        <th class="text-center col-1">No</th>
                        <th class="text-center col-3">Contact Name</th>
                        <th class="text-center col-3">Contact Number</th>
                        <th class="text-center col-5">Contact Email</th>
                    <% } %>
                </tr>
            </thead>
            <tbody>
                <% if(ContactsList.length) {
                    for(let i = 0; i < ContactsList.length; i++) { %>
                        <tr>
                            <% if(typeof displayName == 'string' && displayName) { %>
                                <td class="text-center"><%= i+1 %></td>
                                <td class="text-center"><%= ContactsList[i].contact_name %></td> 
                                <td class="text-center"><%= ContactsList[i].contact_number %></td> 
                                <td class="text-center"><%= ContactsList[i].contact_email %></td> 
                                <td class="text-center">
                                    <a href="/contacts-list/edit/<%= ContactsList[i]._id %>" class="btn btn-success btn-floating">
                                        <i class="fas fa-pencil-alt"></i>
                                    </a>
                                </td class="text-center">
                                <td class="text-center">
                                    <a href="/contacts-list/delete/<%= ContactsList[i]._id %>" class="btn btn-danger btn-floating btn-delete">
                                        <i class="fas fa-trash-alt"></i>
                                    </a>
                                </td>
                            <% } else { %>
                                <td class="text-center"><%= i+1 %></td>
                                <td class="text-center"><%= ContactsList[i].contact_name %></td> 
                                <td class="text-center"><%= ContactsList[i].contact_number %></td> 
                                <td class="text-center"><%= ContactsList[i].contact_email %></td> 
                            <% } %>
                        </tr>
                    <% } %>
                <% } else { %>
                    <tr>  <td colspan="<%= (typeof displayName == 'string' && displayName) ? 6 : 4 %>">No record found</td>  </tr>
                <% } %>
            </tbody>
        </table>
    </div>
</div>
